%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%% Name:        classinfo.tex
%% Purpose:     wxClassInfo documentation
%% Author:      Julian smart, Francesco Montorsi
%% Created:     2007-7-30
%% RCS-ID:      $Id$
%% Copyright:   (c) 2007 Francesco Montorsi
%% License:     wxWindows license
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%


\section{\class{wxClassInfo}}\label{wxclassinfo}

This class stores meta-information about a class. Instances of this class are
not generally defined directly by an application, but indirectly through use
of macros such as \helpref{wxDECLARE\_DYNAMIC\_CLASS}{wxdeclaredynamicclass} and 
\helpref{wxIMPLEMENT\_DYNAMIC\_CLASS}{wximplementdynamicclass}
(for a full list of macros see the \helpref{XTI overview}{wxclassinfooverview}).

This class provides access to the following meta-information:

\begin{itemize}\itemsep=0pt
\item position of a class in the inheritance hierarchy;
\item the base class name(s);
\item a string representation of the class name;
\item a function that can be called to construct an instance of this class.
\end{itemize}

When \tt{wxUSE_EXTENDED_RTTI == 1} (the default), wxClassInfo also provides the
following additional features:

\begin{itemize}\itemsep=0pt
\item access to a table of the class' properties
\item access to a table of the event types which are generated by the class (if it sends events)
\item access to a table of event handlers
\end{itemize}

The wxDECLARE\_*\_CLASS macros declare a static wxClassInfo variable in a class, which is initialized
by macros of the form wxIMPLEMENT\_*\_CLASS in the implementation C++ file. 

You can get a pointer to the wxClassInfo instance for a type of class by using the 
\helpref{wxCLASSINFO}{wxclassinfo} macro, e.g.:

\begin{verbatim}
    wxClassInfo *frameInfo = wxCLASSINFO(wxFrame);
    
    // using frameInfo we can explore the properties, events, handlers
    // associated with wxFrame classes.
    frameInfo->...
\end{verbatim}

You can also retrieve the wxClassInfo for a wxObject-derived class using 
\helpref{wxObject::GetClassInfo}{wxobjectgetclassinfo}.
See also \helpref{wxObject}{wxobject} and \helpref{wxCreateDynamicObject}{wxcreatedynamicobject}
for more info.

\wxheading{Derived from}

None.

\wxheading{Include files}

<wx/object.h>

\wxheading{See also}

\helpref{XTI Overview}{runtimeclassoverview}, \helpref{wxObject}{wxobject},
\helpref{wxPropertyInfo}{wxpropertyinfo}, \helpref{wxTypeInfo}{wxtypeinfo}


\latexignore{\rtfignore{\wxheading{Members}}}

\membersection{wxClassInfo::wxClassInfo}\label{wxclassinfoctor}

\func{}{wxClassInfo}{\param{const wxChar * }{className}, \param{const wxClassInfo * }{baseClass1}, 
                     \param{const wxClassInfo * }{baseClass2}, \param{int}{ size}, 
                     \param{wxObjectConstructorFn }{fn}}

\func{}{wxClassInfo}{\param{const wxChar* }{headerFileName}, \param{const wxChar* }{className}, 
                     \param{const wxClassInfo** }{parents}}

\func{}{wxClassInfo}{\param{const wxClassInfo** }{parents}, \param{const wxChar* }{headerFileName}, 
                     \param{const wxChar* }{className}, \param{int }{size}, \param{wxObjectConstructorFn }{ctor},
                     \param{wxPropertyInfo* }{props}, \param{wxHandlerInfo* }{handlers},
                     \param{wxObjectCreateAdapter* }{ctor}, \param{const wxChar ** }{constructorProperties},
                     \param{const int }{constructorPropertiesCount}, \param{wxVariantToObjectConverter }{ptrConverter1}, 
                     \param{wxVariantToObjectConverter }{converter2}, 
                     \param{wxObjectToVariantConverter }{converter3}, 
                     \param{wxObjectStreamingCallback }{streamingCallback = NULL}}

Constructs a wxClassInfo object. 

The supplied \helpref{macros}{rttimacros} implicitly construct objects of this
class, so \bf{there is no need to create such objects explicitly in an application}.

The second and third form are available only when \tt{wxUSE_EXTENDED_RTTI==1}.



\membersection{wxClassInfo::AllocateObject}\label{wxclassinfoallocateobject}

\constfunc{wxObject*}{AllocateObject}{\void}

Creates an object of the appropriate kind described by this wxClassInfo.
Returns \NULL if the class has not been declared
dynamically creatable (typically, if it is an abstract class).

Note that the returned object is just allocated, not also initialized.



\membersection{wxClassInfo::ConstructObject}\label{wxclassinfoallocateobject}

\constfunc{wxObject*}{ConstructObject}{\param{int }{ParamCount}, \param{wxxVariant* }{Params}}

Allocates and initializes an object of the appropriate kind described by this wxClassInfo.
This function is for "direct construction"; i.e. for classes that cannot construct instances 
via the allocate-Create() semantic but rather needs to be initialized at allocation-time.


\membersection{wxClassInfo::FindClass}\label{wxclassinfofindclass}

\func{static wxClassInfo *}{FindClass}{\param{wxChar * }{name}}

Finds the wxClassInfo object for a class of the given string name.

\membersection{wxClassInfo::GetBaseClassName1}\label{wxclassinfogetbaseclassname1}

\constfunc{wxChar *}{GetBaseClassName1}{\void}

Returns the name of the first base class (NULL if none).

\membersection{wxClassInfo::GetBaseClassName2}\label{wxclassinfogetbaseclassname2}

\constfunc{wxChar *}{GetBaseClassName2}{\void}

Returns the name of the second base class (NULL if none).

\membersection{wxClassInfo::GetClassName}\label{wxclassinfogetclassname}

\constfunc{wxChar *}{GetClassName}{\void}

Returns the string form of the class name.

\membersection{wxClassInfo::GetSize}\label{wxclassinfogetsize}

\constfunc{int}{GetSize}{\void}

Returns the size of the class.

\membersection{wxClassInfo::InitializeClasses}\label{wxclassinfoinitializeclasses}

\func{static void}{InitializeClasses}{\void}

Initializes pointers in the wxClassInfo objects for fast execution
of IsKindOf. Called in base wxWidgets library initialization.

\membersection{wxClassInfo::IsDynamic}\label{wxclassinfoisdynamic}

\constfunc{bool}{IsDynamic}{\void}

Returns \true if this class info can create objects of the associated class.

\membersection{wxClassInfo::IsKindOf}\label{wxclassinfoiskindof}

\constfunc{bool}{IsKindOf}{\param{const wxClassInfo* }{info}}

Returns \true if this class is a kind of (inherits from) the given class.



\membersection{wxClassInfo::NeedsDirectConstruction}\label{wxclassinfoneedsdirectconstruction}

\constfunc{bool}{NeedsDirectConstruction}{\void}

Returns \true if this class does not support the
allocate-Create() semantic but rather needs to be initialized at allocation-time.

FIXME-XTI-ONLY

\membersection{wxClassInfo::GetIncludeName}\label{wxclassinfogetincludename}

\constfunc{const wxChar*}{GetIncludeName}{\void}

Returns the name of the header file containing the declaration of this type of class.

FIXME-XTI-ONLY


\membersection{wxClassInfo::GetParents}\label{wxclassinfogetparents}

\constfunc{const wxClassInfo**}{GetParents}{\void}

Returns a list of pointers to the parents of this type of class.

FIXME-XTI-ONLY


\membersection{wxClassInfo::GetConstructor}\label{wxclassinfogetconstructor}

\constfunc{wxObjectConstructorFn}{GetConstructor}{\void}

Returns a pointer to the function which constructs this type of class.
The functions of type \tt{wxObjectConstructorFn} take no arguments and
simply return a pointer to a wxObject.

FIXME-XTI-ONLY






\membersection{wxClassInfo::GetNext}\label{wxclassinfogetnext}

\constfunc{const wxClassInfo*}{GetNext}{\void}

Returns the next class in the linked list (see the overview for more info).

FIXME-XTI-ONLY


\membersection{wxClassInfo::GetProperties}\label{wxclassinfogetproperties}

\constfunc{void}{GetProperties}{\param{wxPropertyInfoMap\& }{map}}

puts all the properties of this class and its superclasses in the map, 
as long as there is not yet an entry with the same name (overriding mechanism)


\membersection{wxClassInfo::GetProperty}\label{wxclassinfogetproperty}

\constfunc{wxxVariant}{GetProperty}{\param{wxObject* }{object}, \param{const wxChar* }{propertyName}}


\membersection{wxClassInfo::GetPropertyCollection}\label{wxclassinfogetpropertycollection}

\constfunc{wxxVariantArray}{GetPropertyCollection}{\param{wxObject* }{object}, \param{const wxChar* }{propertyName}}

Runtime access to objects for collection properties by property name



\membersection{wxClassInfo::GetFirst}\label{wxclassinfogetfirst}

\func{const wxClassInfo*}{GetFirst}{\void}

Returns the first class info in the linked list.

FIXME-XTI-ONLY

\membersection{wxClassInfo::GetFirstHandler}\label{wxclassinfogetfirsthandler}

\constfunc{const wxHandlerInfo*}{GetFirstHandler}{\void}

Returns the first handler for this type of class.


\membersection{wxClassInfo::GetFirstProperty}\label{wxclassinfogetfirstproperty}

\constfunc{const wxPropertyInfo*}{GetFirstProperty}{\void}

Returns the first property for this type of class.



\membersection{wxClassInfo::FindPropertyInfo}\label{wxclassinfofindpropertyinfo}

\constfunc{const wxPropertyInfo*}{FindPropertyInfo}{\param{const wxChar* }{propertyName}}

Returns the property with the given name associated to this class or to a parent class or \NULL if
such property does not exist.


\membersection{wxClassInfo::FindHandlerInfo}\label{wxclassinfofindhandlerinfo}

\constfunc{const wxHandlerInfo*}{FindHandlerInfo}{\param{const wxChar* }{handlerName}}

Returns the handler with the given name associated to this class or to a parent class or \NULL if
such handler does not exist.



\membersection{wxClassInfo::*FindPropertyInfoInThisClass }\label{wxclassinfofindpropertyinfointhisclass}

\constfunc{const wxPropertyInfo*}{*FindPropertyInfoInThisClass }{\param{const wxChar* }{propertyName}}

Returns the property with the given name associated to this class or \NULL if
such property does not exist.


\membersection{wxClassInfo::*FindHandlerInfoInThisClass }\label{wxclassinfofindhandlerinfointhisclass}

\constfunc{const wxHandlerInfo*}{*FindHandlerInfoInThisClass }{\param{const wxChar* }{handlerName}}

Returns the handler with the given name associated to this class or \NULL if
such handler does not exist.




\membersection{wxClassInfo::SetProperty}\label{wxclassinfosetproperty}

\constfunc{void}{SetProperty}{\param{wxObject* }{object}, \param{const wxChar *}{propertyName}, \param{const wxxVariant\& }{value}}

Sets the \arg{propertyName} property on \arg{object} to value \arg{value}.


\membersection{wxClassInfo::GetProperty}\label{wxclassinfogetproperty}

\constfunc{wxxVariant}{GetProperty}{\param{wxObject* }{object}, \param{const wxChar *}{propertyName}}

Returns the value of \arg{propertyName} property for object \arg{object}.


\membersection{wxClassInfo::GetPropertyCollection}\label{wxclassinfogetproperty}

\constfunc{wxxVariantArray}{GetPropertyCollection}{\param{wxObject* }{object}, \param{const wxChar *}{propertyName}}

Returns the array of values representing the \arg{propertyName} collection property for object \arg{object}.


\membersection{wxClassInfo::AddToPropertyCollection}\label{wxclassinfoaddtopropertycollection}

\constfunc{void}{SetProperty}{\param{wxObject* }{object}, \param{const wxChar *}{propertyName}, \param{const wxxVariant\& }{value}}

Adds the given \arg{value} to the collection \arg{propertyName} on \arg{object}.



