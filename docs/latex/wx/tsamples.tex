%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%% Name:        tsamples.tex
%% Purpose:     Samples description
%% Author:      Vadim Zeitlin
%% Modified by:
%% Created:     02.11.99
%% RCS-ID:      $Id$
%% Copyright:   (c) wxWindows team
%% Licence:     wxWindows licence
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\section{wxWindows samples}\label{samples}

Probably the best way to learn wxWindows is by reading the source of some 50+
samples provided with it. Many aspects of wxWindows programming can be learnt
from them, but sometimes it is not simple to just choose the right sample to
look at. This overview aims at describing what each sample does/demonstrates to
make it easier to find the relevant one if a simple grep through all sources
didn't help. They also provide some notes about using the samples and what
features of wxWindows are they supposed to test.

There are currently more than 50 different samples as part of wxWindows and
this list is not complete.

\subsection{Minimal sample}\label{sampleminimal}

The minimal sample is what most people will know under the term Hello World,
i.e. a minimal program that doesn't demonstrate anything apart from what is
needed to write a program that will display a "hello" dialog. This is usually
a good starting point for learning how to use wxWindows.

\subsection{Calendar sample}\label{samplecalendar}

This font shows the \helpref{calendar control}{wxcalendarctrl} in action. It
shows how to configure the control (see the different options in the calendar
menu) and also how to process the notifications from it.

\subsection{Checklist sample}\label{samplechecklist}

This sample demonstrates the use of the \helpref{wxCheckListBox}{wxchecklistbox}
class intercepting check, select and double click events. It also tests the
use of various methods modifiying the control, such as by deleting items
from it or inserting new once (these fucntions are actually implememted in
the parent class \helpref{wxListBox}{wxlistbox} so the sample tests that class
as well). The layout of the dialog is created using a \helpref{wxBoxSizer}{wxboxsizer}
demonstrating a simple dynamic layout.

\subsection{Config sample}\label{sampleconfig}

This sample demonstrates the \helpref{wxConfig}{wxconfigbase} classes in a platform
indepedent way, i.e. it uses text based files to store a given configuration under
Unix and uses the Registry under Windows.

See \helpref{wxConfig overview}{wxconfigoverview} for the descriptions of all
features of this class.

\subsection{Controls sample}\label{samplecontrols}

The controls sample is the main test program for most simple controls used in
wxWindows. The sample tests their basic functionality, events, placement,
modification in terms of colour and font as well as the possibility to change
the controls programmatically, such as adding item to a list box etc. Apart
from that, the sample uses a \helpref{wxNotebook}{wxnotebook} and tests most
fetaures of this special control (using bitmap in the tabs, using
\helpref{wxSizers}{wxsizer} and \helpref{constraints}{wxlayoutconstraints} within
notebook pages, advanving pages programmatically and vetoing a page change
by intercepting the \helpref{wxNotebookEvent}{wxnotebookevent}.

The various controls tested are listed here:
\begin{twocollist}\itemsep=0pt
\twocolitem{\helpref{wxButton}{wxbutton}}{Push button control, displaying text}
\twocolitem{\helpref{wxBitmapButton}{wxbitmapbutton}}{Push button control, displaying a bitmap}
\twocolitem{\helpref{wxCheckBox}{wxcheckbox}}{Checkbox control}
\twocolitem{\helpref{wxChoice}{wxchoice}}{Choice control (a combobox without the editable area)}
\twocolitem{\helpref{wxComboBox}{wxcombobox}}{A choice with an editable area}
\twocolitem{\helpref{wxGauge}{wxgauge}}{A control to represent a varying quantity, such as time remaining}
\twocolitem{\helpref{wxStaticBox}{wxstaticbox}}{A static, or group box for visually grouping related controls}
\twocolitem{\helpref{wxListBox}{wxlistbox}}{A list of strings for single or multiple selection}
\twocolitem{wxSpinCtrl}{A spin ctrl with a text field and a `up-down' control}
\twocolitem{\helpref{wxSpinButton}{wxspinbutton}}{A spin or `up-down' control}
\twocolitem{\helpref{wxStaticText}{wxstatictext}}{One or more lines of non-editable text}
\twocolitem{\helpref{wxStaticBitmap}{wxstaticbitmap}}{A control to display a bitmap}
\twocolitem{\helpref{wxRadioBox}{wxradiobox}}{A group of radio buttons}
\twocolitem{\helpref{wxRadioButton}{wxradiobutton}}{A round button to be used with others in a mutually exclusive way}
\twocolitem{\helpref{wxSlider}{wxslider}}{A slider that can be dragged by the user}
\end{twocollist}

\subsection{Database sample}\label{sampledb}

The database sample is a small test program showing how to use the ODBC
classes written by Remstar Intl. These classes are documented in a separate
manual available from the wxWindows homepage. Obviously, this sample
requires a database with ODBC support to be correctly installed on your
system.

\subsection{Dialogs sample}\label{sampledialogs}

This sample shows how to use the common dialogs available from wxWindows. These
dialogs are desrcibed in details in the \helpref{Common dialogs overview}{commondialogsoverview}.

\subsection{Dynamic sample}\label{sampledynamic}

This sample is a very small sample that demonstrates the use of the
\helpref{wxEvtHandler::Connect}{wxevthandlerconnect} method. This method
should be used whenever it is not known at compile time, which control
will receive which event or which controls are actually going to be in
a dialog or frame. This is most typically the case for any scripting
languge that would work as a wrapper for wxWindows or programs where
forms or similar datagrams can be created by the uses.

\subsection{Exec sample}\label{sampleexec}

The exec sample demonstrates the \helpref{wxExecute}{wxexecute} and 
\helpref{wxShell}{wxshell} functions. Both of them are used to execute the
external programs and the sample shows how to do this synchronously (waiting
until the program terminates) or asynchronously (notification will come later).

\subsection{Scroll subwindow sample}\label{samplescrollsub}

This sample demonstrates the use of the \helpref{wxScrolledWindow}{wxscrolledwindow}
class including placing subwindows into it and drawing simple graphics. It uses the
\helpref{SetTargetWindow}{wxscrolledwindowsettargetwindow} method and thus the effect
of scrolling does not show in the scrolled window itself, but in one of its subwindows.

Additionally, this samples demonstrates how to optimize drawing operations in wxWindows,
in particular using the \helpref{wxWindow::IsExposed}{wxwindowisexposed} method with 
the aim to prevent unnecessary drawing in the window and thus reducing or removing 
flicker on screen.

\subsection{Font sample}\label{samplefont}

The font sample demonstrates \helpref{wxFont}{wxfont}, 
\helpref{wxFontEnumerator}{wxfontenumerator} and 
\helpref{wxFontMapper}{wxfontmapper} classes. It allows you to see the fonts
available (to wxWindows) on the computer and shows all characters of the
chosen font as well.

\subsection{DnD sample}\label{samplednd}

This sample shows both clipboard and drag and drop in action. It is quite non
trivial and may be safely used as a basis for implementing the clipboard and
drag and drop operations in a real-life program.

When you run the sample, its screen is split in several parts. On the top,
there are two listboxes which show the standard derivations of 
\helpref{wxDropTarget}{wxdroptarget}: 
\helpref{wxTextDropTarget}{wxtextdroptarget} and 
\helpref{wxFileDropTarget}{wxfiledroptarget}.

The middle of the sample window is taken by the log window which shows what is
going on (of course, this only works in debug builds) and may be helpful to see
the sequence of steps of data transfer.

Finally, the last part is used for dragging text from it to either one of the
listboxes (only one will accept it) or another application. The last
functionality available from the main frame is to paste a bitmap from the
clipboard (or, in the case of Windows version, also a metafile) - it will be
shown in a new frame.

So far, everything we mentioned was implemented with minimal amount of code
using standard wxWindows classes. The more advanced features are demonstrated
if you create a shape frame from the main frame menu. A shape is a geometric
object which has a position, size and color. It models some
application-specific data in this sample. A shape object supports its own
private \helpref{wxDataFormat}{wxdataformat} which means that you may cut and
paste it or drag and drop (between one and the same or different shapes) from
one sample instance to another (or the same). However, chances are that no
other program supports this format and so shapes can also be rendered as
bitmaps which allows them to be pasted/dropped in many other applications
(and, under Windows, also as metafiles which are supported by most of Windows
programs as well - try Write/Wordpad, for example).

Take a look at DnDShapeDataObject class to see how you may use 
\helpref{wxDataObject}{wxdataobject} to achieve this.

\subsection{HTML samples}\label{samplehtml}

Eight HTML samples (you can find them in directory {\tt samples/html})
cover all features of HTML sub-library.

{\bf Test} demonstrates how to create \helpref{wxHtmlWindow}{wxhtmlwindow}
and also shows most of supported HTML tags.

{\bf Widget} shows how you can embed ordinary controls or windows within
HTML page. It also nicely explains how to write new tag handlers and extend
the library to work with unsupported tags.

{\bf About} may give you an idea how to write good-looking about boxes.

{\bf Zip} demonstrates use of virtual file systems in wxHTML. The zip archives
handler (ships with wxWindows) allows you to access HTML pages stored 
in compressed archive as if they were ordinary files.

{\bf Virtual} is yet another VFS demo. This one generates pages at run-time.
You may find it useful if you need to display some reports in your application.

{\bf Printing} explains use of \helpref{wxHtmlEasyPrinting}{wxhtmleasyprinting}
class which serves as as-simple-as-possible interface for printing HTML 
documents without much work. In fact, only few function calls are sufficient.

{\bf Help} and {\bf Helpview} are variations on displaying HTML help 
(compatible with MS HTML Help Workshop). {\it Help} shows how to embed
\helpref{wxHtmlHelpController}{wxhtmlhelpcontroller} in your application
while {\it Helpview} is simple tool that only pops up help window and
displays help books given at command line.

\subsection{Layout sample}\label{samplelayout}

The layout sample demonstrates the two different layout systems offered
by wxWindows. When starting the program, you will see a frame with some
controls and some graphics. The controls will change their size whenever
you resize the entire frame and the exact behaviour of the size changes
is determined using the \helpref{wxLayoutConstraints}{wxlayoutconstraints}
class. See also the \helpref{overview}{constraintsoverview} and the
\helpref{wxIndividualLayoutConstraint}{wxindividuallayoutconstraint}
class for further information.

The menu in this sample offers two more tests, one showing how to use
a \helpref{wxBoxSizer}{wxboxsizer} in a simple dialog and the other one
showing how to use sizers in connection with a \helpref{wxNotebook}{wxnotebook}
class. See also \helpref{wxNotebookSizer}{wxnotebooksizer} and 
\helpref{wxSizer}{wxsizer}.

\subsection{Image sample}\label{sampleimage}

The image sample demonstrates the use of the \helpref{wxImage}{wximage} class
and shows how to download images in a variety of formats, currently PNG, GIF,
TIFF, JPEG, BMP, PNM and PCX. The top of the sample shows to rectangles, one
of which is drawn directly in the window, the other one is drawn into a
\helpref{wxBitmap}{wxbitmap}, converted to a wxImage, saved as a PNG image
and then reloaded from the PNG file again so that conversions between wxImage
and wxBitmap as well as loading and save PNG files are tested.

At the bottom of the main frame is a test for using a mono-chrome bitmap by
drawing into a \helpref{wxMemoryDC}{wxmemorydc}. The bitmap is then drawn
specifying the foreground and background colours with 
\helpref{wxDC::SetTextForeground}{wxdcsettextforeground} and 
\helpref{wxDC::SetTextBackground}{wxdcsettextbackground} (on the left). The
bitmap is then converted to a wxImage and the foreground colour (black) is
replaced with red using \helpref{wxImage::Replace}{wximagereplace}.

\subsection{Sockets sample}\label{samplesockets}

The sockets sample demonstrates how to use the communication facilities
provided by \helpref{wxSocket}{wxsocketbase}. There are two different
applications in this sample: a server, which is implemented as a
\helpref{wxSocketServer}{wxsocketserver} object, and a client, which is
implemented with \helpref{wxSocketClient}{wxsocketclient}.

The server binds to the local address, using TCP port number 3000, sets
up an event handler to be notified of incoming connection requests
({\bf wxSOCKET\_CONNECTION} event), and stands there, waiting (listening
in the socket parlance) for clients. For each incoming client, a new
\helpref{wxSocketBase}{wxsocketbase} object is created, which represents
the connection. Connections are independent from the server that created
them, so they set up their own event handler, and stay awaiting for
{\bf wxSOCKET\_INPUT} (incoming data) or {\bf wxSOCKET\_LOST} (connection
closed at the remote end) events. This event handler is the same for all
connections, and demonstrates how to determine which socket the event
is addressed to by using the \helpref{Socket}{wxsocketeventsocket} function
in the \helpref{wxSocketEvent}{wxsocketevent} class.

Although it might take some time to get used to the event-oriented
system upon which wxSocket is built, the benefits are many. See, for
example, that the server application, while being single-threaded
(and of course without using fork() or ugly select() loops) can handle
an arbitrary number of connections.

The client starts up unconnected, so you can use the Connect... option
to specify the address of the server you are going to connect to (the
TCP port number is hard-coded as 3000). Once connected, a number of
tests are possible. Currently, three tests are implemented. They show
how to use the basic IO calls in \helpref{wxSocketBase}{wxsocketbase},
such as \helpref{Read}{wxsocketbaseread}, \helpref{Write}{wxsocketbasewrite},
\helpref{ReadMsg}{wxsocketbasereadmsg} and \helpref{WriteMsg}{wxsocketbasewritemsg},
and how to set up the correct IO flags depending on what you are going to
do. See the comments in the code for more information (a lengthy explanation
on socket flags is available in \helpref{SetFlags}{wxsocketbasesetflags}).
Note that because both clients and connection objects in the server set
up an event handler to catch {\bf wxSOCKET\_LOST} events, each one is
immediately notified if the other end closes the connection.

The sockets sample is work in progress. Coming soon:

\begin{itemize}

\item More tests for basic socket functionality.

\item Tests for the recently added datagram socket classes.

\item Tests for protocol classes (wxProtocol and its descendants).

\item New samples which actually do something useful (suggestions accepted).

\end{itemize}

\subsection{Statbar sample}\label{samplestatbar}

This sample shows how to create and use wxStaticBar. Although most of the
samples have a statusbar, they usually only create a default one and only
do it once.

Here you can see how to recreate the statusbar (with possibly different number
of fields) and how to use it to show icons/bitmaps and/or put arbitrary
controls into it.

\subsection{Text sample}\label{sampletext}

This sample demonstrates four features: firstly the use and many variants of
the \helpref{wxTextCtrl}{wxtextctrl} class (single line, multi line, read only,
password, ignoring TAB, ignoring ENTER).

Secondly it shows how to intercept a \helpref{wxKeyEvent}{wxkeyevent} in both
the raw form using the {\tt EVT_KEY_UP} and {\tt EVT_KEY_DOWN} macros and the
higherlevel from using the {\tt EVT_CHAR} macro. All characters will be logged
in a log window at the bottom of the main window. By pressing some of the function
keys, you can test some actions in the text ctrl as well as get statitics on the
text ctrls, which is useful for testing if these statitics actually are correct.

Thirdly, on platforms which support it, the sample will offer to copy text to the
\helpref{wxClipboard}{wxclipboard} and to paste text from it. The GTK version will
use the so called PRIMARY SELECTION, which is the pseudo clipboard under X and
best known from pasting text to the XTerm program. 

Last not least: some of the text controls have tooltips and the sample also shows
how tooltips can be centrally disabled and their latency controlled.

\subsection{Thread sample}\label{samplethread}

This sample demonstrates the use of threads in connection with GUI programs.
There are two fundamentally different ways to use threads in GUI programs and
either way has to take care of the fact that the GUI library itself usually
is not multi-threading safe, i.e. that it might crash if two threads try to
access the GUI class simultaneously. One way to prevent that is have a normal
GUI program in the main thread and some worker threads which work in the 
background. In order to make communication between the main thread and the
worker threads possible, wxWindows offers the \helpref{wxPostEvent}{wxpostevent}
function and this sample makes use of this function.

The other way to use a so called Mutex (such as those offered in the \helpref{wxMutex}{wxmutex}
class) that prevent threads from accessing the GUI classes as long as any other
thread accesses them. For this, wxWindows has the \helpref{wxMutexGuiEnter}{wxmutexguienter}
and \helpref{wxMutexGuiLeave}{wxmutexguileave} functions, both of which are
used and tested in the sample as well.

See also \helpref{Multithreading overview}{wxthreadoverview} and \helpref{wxThread}{wxthread}.

\subsection{Toolbar sample}\label{sampletoolbar}

The toolbar sample shows the \helpref{wxToolBar}{wxtoolbar} class in action.

The following things are demonstrated:

\begin{itemize}

\item Creating the toolbar using \helpref{wxToolBar::AddTool}{wxtoolbaraddtool}
and \helpref{wxToolBar::AddControl}{wxtoolbaraddcontrol}: see
MyApp::InitToolbar in the sample.

\item Using {\tt EVT\_UPDATE\_UI} handler for automatically enabling/disabling
toolbar buttons without having to explicitly call EnableTool. This is is done
in MyFrame::OnUpdateCopyAndCut.

\item Using \helpref{wxToolBar::DeleteTool}{wxtoolbardeletetool} and 
\helpref{wxToolBar::InsertTool}{wxtoolbarinserttool} to dynamically update the
toolbar.

\end{itemize}
