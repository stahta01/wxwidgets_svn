\section{\class{wxCloseEvent}}\label{wxcloseevent}

This event class contains information about window and session close events.

The handler function for EVT\_CLOSE is called when the user has tried to close a a frame
or dialog box using the window manager (X) or system menu (Windows). It is
called via the \helpref{wxWindow::Close}{wxwindowclose} function, so
that the application can also invoke the handler programmatically.

You should check whether the application is forcing the deletion of the window
using \helpref{wxCloseEvent::CanVeto}{wxcloseeventcanveto}. If this is {\tt FALSE},
you {\it must} destroy the window using \helpref{wxWindow::Destroy}{wxwindowdestroy}.
If the return value is TRUE, it is up to you whether you respond by destroying the window.

If you don't destroy the window, you should call \helpref{wxCloseEvent::Veto}{wxcloseeventveto} to
let the calling code know that you did not destroy the window. This allows the \helpref{wxWindow::Close}{wxwindowclose} function
to return {\tt TRUE} or {\tt FALSE} depending on whether the close instruction was honoured or not.

\wxheading{Derived from}

\helpref{wxEvent}{wxevent}

\wxheading{Include files}

<wx/event.h>

\wxheading{Event table macros}

To process a close event, use these event handler macros to direct input to member
functions that take a wxCloseEvent argument.

\twocolwidtha{7cm}
\begin{twocollist}\itemsep=0pt
\twocolitem{{\bf EVT\_CLOSE(func)}}{Process a close event, supplying the member function. This
event applies to wxFrame and wxDialog classes.}
\twocolitem{{\bf EVT\_QUERY\_END\_SESSION(func)}}{Process a query end session event, supplying the member function.
This event applies to wxApp only.}
\twocolitem{{\bf EVT\_END\_SESSION(func)}}{Process an end session event, supplying the member function.
This event applies to wxApp only.}
\end{twocollist}%

\wxheading{See also}

\helpref{wxWindow::Close}{wxwindowclose},\rtfsp
\helpref{wxApp::OnQueryEndSession}{wxapponqueryendsession},\rtfsp
%% GD: OnXXX functions are not documented
%%\helpref{wxApp::OnEndSession}{wxapponendsession},\rtfsp
\helpref{Window deletion overview}{windowdeletionoverview}

\latexignore{\rtfignore{\wxheading{Members}}}

\membersection{wxCloseEvent::wxCloseEvent}

\func{}{wxCloseEvent}{\param{WXTYPE}{ commandEventType = 0}, \param{int}{ id = 0}}

Constructor.

\membersection{wxCloseEvent::CanVeto}\label{wxcloseeventcanveto}

\func{bool}{CanVeto}{\void}

Returns TRUE if you can veto a system shutdown or a window close event.
Vetoing a window close event is not possible if the calling code wishes to
force the application to exit, and so this function must be called to check this.

\membersection{wxCloseEvent::GetLoggingOff}\label{wxcloseeventgetloggingoff}

\constfunc{bool}{GetLoggingOff}{\void}

Returns TRUE if the user is logging off.

\membersection{wxCloseEvent::GetSessionEnding}\label{wxcloseeventgetsessionending}

\constfunc{bool}{GetSessionEnding}{\void}

Returns TRUE if the session is ending.

\membersection{wxCloseEvent::GetForce}\label{wxcloseeventgetforce}

\constfunc{bool}{GetForce}{\void}

Returns TRUE if the application wishes to force the window to close.
This will shortly be obsolete, replaced by CanVeto.

\membersection{wxCloseEvent::SetCanVeto}\label{wxcloseeventsetcanveto}

\func{void}{SetCanVeto}{\param{bool}{ canVeto}}

Sets the 'can veto' flag.

\membersection{wxCloseEvent::SetForce}\label{wxcloseeventsetforce}

\constfunc{void}{SetForce}{\param{bool}{ force}}

Sets the 'force' flag.

\membersection{wxCloseEvent::SetLoggingOff}\label{wxcloseeventsetloggingoff}

\constfunc{void}{SetLoggingOff}{\param{bool}{ loggingOff}}

Sets the 'logging off' flag.

\membersection{wxCloseEvent::Veto}\label{wxcloseeventveto}

\func{void}{Veto}{\param{bool}{ veto = TRUE}}

Call this from your event handler to veto a system shutdown or to signal
to the calling application that a window close did not happen.

You can only veto a shutdown if \helpref{wxCloseEvent::CanVeto}{wxcloseeventcanveto} returns
TRUE.


