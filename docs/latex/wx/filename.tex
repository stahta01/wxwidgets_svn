%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%% Name:        filename.tex
%% Purpose:     wxFileName documentation
%% Author:      Vadim Zeitlin
%% Modified by:
%% Created:     30.11.01
%% RCS-ID:      $Id$
%% Copyright:   (c) 2001 Vadim Zeitlin
%% License:     wxWindows license
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\section{\class{wxFileName}}\label{wxfilename}

wxFileName encapsulates a file name. This class serves two purposes: first, it
provides the functions to split the file names into components and to recombine
these components in the full file name which can then be passed to the OS file
functions (and \helpref{wxWindows functions}{filefunctions} wrapping them).
Second, it includes the functions for working with the files itself. Note that
to change the file data you should use \helpref{wxFile}{wxfile} class instead,
wxFileName provides functions for working with the file attributes.

\wxheading{Derived from}

No base class

\wxheading{Data structures}

Many wxFileName methods accept the path format argument which is by\rtfsp
{\tt wxPATH\_NATIVE} by default meaning to use the path format native for the
current platform.

The path format affects the operation of wxFileName functions in several ways:
first and foremost, it defines the path separator character to use, but it also
affects other things such as whether the path has the drive part or not.

\begin{verbatim}
enum wxPathFormat
{
    wxPATH_NATIVE = 0,      // the path format for the current platform
    wxPATH_UNIX,
    wxPATH_MAC,
    wxPATH_DOS,
    wxPATH_VMS,

    wxPATH_BEOS = wxPATH_UNIX,
    wxPATH_WIN = wxPATH_DOS,
    wxPATH_OS2 = wxPATH_DOS
}
\end{verbatim}

The kind of normalization to do with the file name: these values can be
or'd together to perform several operations at once in\rtfsp
\helpref{Normalize}{wxfilenamenormalize}.

\begin{verbatim}
enum wxPathNormalize
{
    wxPATH_NORM_ENV_VARS = 0x0001,  // replace env vars with their values
    wxPATH_NORM_DOTS     = 0x0002,  // squeeze all .. and . and prepend cwd
    wxPATH_NORM_TILDE    = 0x0004,  // Unix only: replace ~ and ~user
    wxPATH_NORM_CASE     = 0x0008,  // if case insensitive => tolower
    wxPATH_NORM_ABSOLUTE = 0x0010,  // make the path absolute
    wxPATH_NORM_LONG =     0x0020,  // make the path the long form
    wxPATH_NORM_ALL      = 0x003f
}
\end{verbatim}

\latexignore{\rtfignore{\wxheading{Function groups}}}

\membersection{File name format}

wxFileName currently supports the file names in the Unix, DOS/Windows, Mac OS
and VMS formats. Although these formats are quite different, wxFileName tries
to treat them all in the sam generic way. It supposes that all file names
consist of the following parts: the volume (also known as drive under Windows
or device under VMS), the path which is a sequence of directory names separated
by the \helpref{path separators}{wxfilenamegetpathseparators} and the full
filename itself which, in turn, is composed from the base file name and the
extension. All of the individual components of the file name may be empty and,
for example, the volume name is always empty under Unix, but if they are all
empty simultaneously, the filename object is considered to be in an invalid
state and \helpref{IsOk}{wxfilenameisok} returns {\tt FALSE} for it.

File names can be case-sensitive or not, the function\rtfsp
\helpref{IsCaseSensitive}{wxfilenameiscasesensitive} allows to determine this.

The rules for determining if the file name is absolute or relative also depends
on the file name format and the only portable way to answer to this question is
to use \helpref{IsAbsolute}{wxfilenameisabsolute} method. To ensure that the
filename is absolute you may use \helpref{Normalize}{wxfilenamenormalize}. There
is also an inverse function \helpref{MakeRelativeTo}{wxfilenamemakerelativeto} 
which undoes what \helpref{Normalize(wxPATH\_NORM\_DOTS}{wxfilenamenormalize} 
does.

Other functions returning information about the file format provided by this
class are \helpref{GetVolumeSeparator}{wxfilenamegetvolumeseparator},\rtfsp
\helpref{IsPathSeparator}{wxfilenameispathseparator} and\rtfsp
\helpref{IsWild}{wxfilenameiswild}.

\helpref{IsRelative}{wxfilenameisrelative}

\membersection{File name construction}

TODO.

\membersection{File tests}

Before doing the other tests you should use \helpref{IsOk}{wxfilenameisok} to
verify that the filename is well defined. If it is, 
\helpref{FileExists}{wxfilenamefileexists} can be used to test if a file with
such name exists and \helpref{DirExists}{wxfilenamedirexists} - if a directory
with this name exists.

File names should be compared using \helpref{SameAs}{wxfilenamesameas} method
or \helpref{$==$}{wxfilenameoperatorequal}.

\membersection{File name components}

These functions allow to examine and modify the directories of the path:

\helpref{AppendDir}{wxfilenameappenddir}\\
\helpref{InsertDir}{wxfilenameinsertdir}\\
\helpref{GetDirCount}{wxfilenamegetdircount}
\helpref{PrependDir}{wxfilenameprependdir}\\
\helpref{RemoveDir}{wxfilenameremovedir}

To change the components of the file name individually you can use the
following functions:

\helpref{GetExt}{wxfilenamegetext}\\
\helpref{GetName}{wxfilenamegetname}\\
\helpref{GetVolume}{wxfilenamegetvolume}\\
\helpref{HasExt}{wxfilenamehasext}\\
\helpref{HasName}{wxfilenamehasname}\\
\helpref{HasVolume}{wxfilenamehasvolume}\\
\helpref{SetExt}{wxfilenamesetext}\\
\helpref{SetName}{wxfilenamesetname}\\
\helpref{SetVolume}{wxfilenamesetvolume}\\

\membersection{Operations}

These methods allow to work with the file creation, access and modification
times. Note that not all filesystems under all platforms implement these times
in the same way. For example, the access time under Windows has a resolution of
one day (so it is really the access date and not time). The access time may be
updated when the file is executed or not depending on the platform.

\helpref{GetModificationTime}{wxfilenamegetmodificationtime}\\
\helpref{GetTimes}{wxfilenamegettimes}\\
\helpref{SetTimes}{wxfilenamesettimes}\\
\helpref{Touch}{wxfilenametouch}

Other file system operations functions are:

\helpref{Mkdir}{wxfilenamemkdir}\\
\helpref{Rmdir}{wxfilenamermdir}

\latexignore{\rtfignore{\wxheading{Members}}}

\membersection{wxFileName::wxFileName}\label{wxfilenamewxfilename}

\func{}{wxFileName}{\void}

Default constructor.

\func{}{wxFileName}{\param{const wxFileName\& }{filename}}

Copy constructor.

\func{}{wxFileName}{\param{const wxString\& }{fullpath}, \param{wxPathFormat }{format = wxPATH\_NATIVE}}

From a full filename: if it terminates with a '/', a directory path
is contructed (the name will be empty), otherwise a file name and
extension are extracted from it

\func{}{wxFileName}{\param{const wxString\& }{path}, \param{const wxString\& }{name}, \param{wxPathFormat }{format = wxPATH\_NATIVE}}

Constructor from a directory name and a file name.

\func{}{wxFileName}{\param{const wxString\& }{path}, \param{const wxString\& }{name}, \param{const wxString\& }{ext}, \param{wxPathFormat }{format = wxPATH\_NATIVE}}

Constructor from a directory name, base file name and extension

\func{}{wxFileName}{\param{const wxString\& }{volume}, \param{const wxString\& }{path}, \param{const wxString\& }{name}, \param{const wxString\& }{ext}, \param{wxPathFormat }{format = wxPATH\_NATIVE}}

Constructor from a volume name, a directory name, base file name and extension

\membersection{wxFileName::AppendDir}\label{wxfilenameappenddir}

\func{void}{AppendDir}{\param{const wxString\& }{dir}}


\membersection{wxFileName::Assign}\label{wxfilenameassign}

\func{void}{Assign}{\param{const wxFileName\& }{filepath}}

\func{void}{Assign}{\param{const wxString\& }{fullpath}, \param{wxPathFormat }{format = wxPATH\_NATIVE}}

\func{void}{Assign}{\param{const wxString\& }{volume}, \param{const wxString\& }{path}, \param{const wxString\& }{name}, \param{const wxString\& }{ext}, \param{wxPathFormat }{format = wxPATH\_NATIVE}}

\func{void}{Assign}{\param{const wxString\& }{path}, \param{const wxString\& }{name}, \param{wxPathFormat }{format = wxPATH\_NATIVE}}

\func{void}{Assign}{\param{const wxString\& }{path}, \param{const wxString\& }{name}, \param{const wxString\& }{ext}, \param{wxPathFormat }{format = wxPATH\_NATIVE}}


\membersection{wxFileName::AssignCwd}\label{wxfilenameassigncwd}

\func{void}{AssignCwd}{\param{const wxString\& }{volume = ""}}

Makes this object refer to the current working directory on the specified
volume (or current volume if {\it volume} is empty).

\wxheading{See also}

\helpref{GetCwd}{wxfilenamegetcwd}

\membersection{wxFileName::AssignDir}\label{wxfilenameassigndir}

\func{void}{AssignDir}{\param{const wxString\& }{dir}, \param{wxPathFormat }{format = wxPATH\_NATIVE}}

Set this file name object to the given directory name. The name and extension
will be empty.

\membersection{wxFileName::AssignHomeDir}\label{wxfilenameassignhomedir}

\func{void}{AssignHomeDir}{\void}

Set this file name object to the home directory.

\membersection{wxFileName::AssignTempFileName}\label{wxfilenameassigntempfilename}

\func{void}{AssignTempFileName}{\param{const wxString\& }{prefix}, \param{wxFile *}{fileTemp = {\tt NULL}}}

The function calls \helpref{CreateTempFileName}{wxfilenamecreatetempfilename} to
create a temporary file and sets this object to the name of the file. If a
temporary file couldn't be created, the object is put into the\rtfsp
\helpref{invalid}{wxfilenameisok} state.

\membersection{wxFileName::Clear}\label{wxfilenameclear}

\func{void}{Clear}{\void}

Reset all components to default, uninitialized state.

\membersection{wxFileName::CreateTempFileName}\label{wxfilenamecreatetempfilename}

\func{static wxString}{CreateTempFileName}{\param{const wxString\& }{prefix}, \param{wxFile *}{fileTemp = {\tt NULL}}}

Returns a temporary file name starting with the given {\it prefix}. If
the {\it prefix} is an absolute path, the temporary file is created in this
directory, otherwise it is created in the default system directory for the
temporary files or in the current directory.

If the function succeeds, the temporary file is actually created. If\rtfsp
{\it fileTemp} is not {\tt NULL}, this file will be opened using the name of
the temporary file. When possible, this is done in an atomic way ensuring that
no race condition occurs between the temporary file name generation and opening
it which could often lead to security compromise on the multiuser systems.
If {\it fileTemp} is {\tt NULL}, the file is only created, but not opened.

Under Unix, the temporary file will have read and write permissions for the
owner only to minimize the security problems.

\wxheading{Parameters}

\docparam{prefix}{Prefix to use for the temporary file name construction}

\docparam{fileTemp}{The file to open or {\tt NULL} to just get the name}

\wxheading{Return value}

The full temporary file name or an empty string on error.

\membersection{wxFileName::DirExists}\label{wxfilenamedirexists}

\func{bool}{DirExists}{\void}

\func{bool}{DirExists}{\param{const wxString\& }{dir}}

Does the directory with this name exists?

\membersection{wxFileName::DirName}\label{wxfilenamedirname}

\func{wxFileName}{DirName}{\param{const wxString\& }{dir}}

\membersection{wxFileName::FileExists}\label{wxfilenamefileexists}

\func{bool}{FileExists}{\void}

\func{bool}{FileExists}{\param{const wxString\& }{file}}

Does the file with this name exists?

\membersection{wxFileName::FileName}\label{wxfilenamefilename}

\func{wxFileName}{FileName}{\param{const wxString\& }{file}}

static pseudo constructors

\membersection{wxFileName::GetCwd}\label{wxfilenamegetcwd}

\func{wxString}{GetCwd}{\param{const wxString\& }{volume = ""}}

Retrieve the value of the current working directory on the specified volume. If
the volume is empty, the programs current working directory is returned for the
current volume.

\wxheading{Return value}

The string containing the current working directory or an empty string on
error.

\wxheading{See also}

\helpref{AssignCwd}{wxfilenameassigncwd}

\membersection{wxFileName::GetDirCount}\label{wxfilenamegetdircount}

\constfunc{size\_t}{GetDirCount}{\void}


\membersection{wxFileName::GetDirs}\label{wxfilenamegetdirs}

\constfunc{const wxArrayString\&}{GetDirs}{\void}


\membersection{wxFileName::GetExt}\label{wxfilenamegetext}

\constfunc{wxString}{GetExt}{\void}


\membersection{wxFileName::GetFormat}\label{wxfilenamegetformat}

\func{wxPathFormat}{GetFormat}{\param{wxPathFormat }{format = wxPATH\_NATIVE}}

various helpers
get the canonical path format for this platform


\membersection{wxFileName::GetFullName}\label{wxfilenamegetfullname}

\constfunc{wxString}{GetFullName}{\void}


\membersection{wxFileName::GetFullPath}\label{wxfilenamegetfullpath}

\constfunc{wxString}{GetFullPath}{\param{wxPathFormat }{format = wxPATH\_NATIVE}}

add separator Construct full path with name and ext


\membersection{wxFileName::GetHomeDir}\label{wxfilenamegethomedir}

\func{wxString}{GetHomeDir}{\void}


\membersection{wxFileName::GetLongPath}\label{wxfilenamegetlongpath}

\constfunc{wxString}{GetLongPath}{\void}

Return the long form of the path (returns identity on non-Windows platforms)


\membersection{wxFileName::GetModificationTime}\label{wxfilenamegetmodificationtime}

\constfunc{wxDateTime}{GetModificationTime}{\void}

convenience wrapper: get just the last mod time of the file


\membersection{wxFileName::GetName}\label{wxfilenamegetname}

\constfunc{wxString}{GetName}{\void}


\membersection{wxFileName::GetPath}\label{wxfilenamegetpath}

\constfunc{wxString}{GetPath}{\param{bool }{add\_separator = FALSE}, \param{wxPathFormat }{format = wxPATH\_NATIVE}}

Construct path only - possibly with the trailing separator


\membersection{wxFileName::GetPathSeparators}\label{wxfilenamegetpathseparators}

\func{wxString}{GetPathSeparators}{\param{wxPathFormat }{format = wxPATH\_NATIVE}}

get the string of path separators for this format


\membersection{wxFileName::GetPathWithSep}\label{wxfilenamegetpathwithsep}

\constfunc{wxString}{GetPathWithSep}{\param{wxPathFormat }{format = wxPATH\_NATIVE}}

more readable synonym


\membersection{wxFileName::GetShortPath}\label{wxfilenamegetshortpath}

\constfunc{wxString}{GetShortPath}{\void}

Return the short form of the path (returns identity on non-Windows platforms)


\membersection{wxFileName::GetTimes}\label{wxfilenamegettimes}

\constfunc{bool}{GetTimes}{\param{wxDateTime* }{dtAccess}, \param{wxDateTime* }{dtMod}, \param{wxDateTime* }{dtCreate}}

return the last access, last modification and creation times
(any of the pointers may be NULL)


\membersection{wxFileName::GetVolume}\label{wxfilenamegetvolume}

\constfunc{wxString}{GetVolume}{\void}


\membersection{wxFileName::GetVolumeSeparator}\label{wxfilenamegetvolumeseparator}

\func{wxString}{GetVolumeSeparator}{\param{wxPathFormat }{format = wxPATH\_NATIVE}}

get the string separating the volume from the path for this format


\membersection{wxFileName::HasExt}\label{wxfilenamehasext}

\constfunc{bool}{HasExt}{\void}


\membersection{wxFileName::HasName}\label{wxfilenamehasname}

\constfunc{bool}{HasName}{\void}


\membersection{wxFileName::HasVolume}\label{wxfilenamehasvolume}

\constfunc{bool}{HasVolume}{\void}


\membersection{wxFileName::InsertDir}\label{wxfilenameinsertdir}

\func{void}{InsertDir}{\param{int }{before}, \param{const wxString\& }{dir}}


\membersection{wxFileName::IsAbsolute}\label{wxfilenameisabsolute}

\func{bool}{IsAbsolute}{\param{wxPathFormat }{format = wxPATH\_NATIVE}}

is this filename absolute?


\membersection{wxFileName::IsCaseSensitive}\label{wxfilenameiscasesensitive}

\func{bool}{IsCaseSensitive}{\param{wxPathFormat }{format = wxPATH\_NATIVE}}

Tests
are the file names of this type cases sensitive?


\membersection{wxFileName::IsOk}\label{wxfilenameisok}

\constfunc{bool}{IsOk}{\void}

Returns {\tt TRUE} if the filename is valid, {\tt FALSE} if it is not
initialized yet. The assignment functions and
\helpref{Clear}{wxfilenameclear} may reset the object to the uninitialized,
invalid state (the former only do it on failure).

\membersection{wxFileName::IsPathSeparator}\label{wxfilenameispathseparator}

\func{bool}{IsPathSeparator}{\param{wxChar }{ch}, \param{wxPathFormat }{format = wxPATH\_NATIVE}}

Returns {\tt TRUE} if the char is a path separator for this format.

\membersection{wxFileName::IsRelative}\label{wxfilenameisrelative}

\func{bool}{IsRelative}{\param{wxPathFormat }{format = wxPATH\_NATIVE}}

Returns {\tt TRUE} if this filename is not absolute.

\membersection{wxFileName::IsWild}\label{wxfilenameiswild}

\func{bool}{IsWild}{\param{wxPathFormat }{format = wxPATH\_NATIVE}}

FIXME: what exactly does this do?

\membersection{wxFileName::MakeRelativeTo}\label{wxfilenamemakerelativeto}

\func{bool}{MakeRelativeTo}{\param{const wxString\& }{pathBase = ""}, \param{wxPathFormat }{format = wxPATH\_NATIVE}}

This function tries to put this file name in a form relative to {\it pathBase}.
In other words, it returns the file name which should be used to access this
file if the current directory were {\it pathBase}.

\docparam{pathBase}{the directory to use as root, current directory is used by
default}

\docparam{format}{the file name format, native by default}

\wxheading{Return value}

{\tt TRUE} if the file name has been changed, {\tt FALSE} if we failed to do
anything with it (currently this only happens if the file name is on a volume
different from the volume specified by {\it pathBase}).

\wxheading{See also}

\helpref{Normalize}{wxfilenamenormalize}

\membersection{wxFileName::Mkdir}\label{wxfilenamemkdir}

\func{bool}{Mkdir}{\param{int }{perm = 0777}, \param{bool }{full = FALSE}}

\func{static bool}{Mkdir}{\param{const wxString\& }{dir}, \param{int }{perm = 0777}, \param{bool }{full = FALSE}}

\docparam{dir}{the directory to create}

\docparam{parm}{the permissions for the newly created directory}

\docparam{full}{if {\tt TRUE}, will try to make each directory in the path}

\wxheading{Return value}

Returns {\tt TRUE} if the directory was successfully created, {\tt FALSE}
otherwise.

\membersection{wxFileName::Normalize}\label{wxfilenamenormalize}

\func{bool}{Normalize}{\param{int }{flags = wxPATH\_NORM\_ALL}, \param{const wxString\& }{cwd = wxEmptyString}, \param{wxPathFormat }{format = wxPATH\_NATIVE}}

operations on the path
normalize the path: with the default flags value, the path will be
made absolute, without any ".." and "." and all environment
variables will be expanded in it
this may be done using another (than current) value of cwd


\membersection{wxFileName::PrependDir}\label{wxfilenameprependdir}

\func{void}{PrependDir}{\param{const wxString\& }{dir}}


\membersection{wxFileName::RemoveDir}\label{wxfilenameremovedir}

\func{void}{RemoveDir}{\param{int }{pos}}


\membersection{wxFileName::Rmdir}\label{wxfilenamermdir}

\func{bool}{Rmdir}{\void}

\func{static bool}{Rmdir}{\param{const wxString\& }{dir}}

Deletes the specified directory.


\membersection{wxFileName::SameAs}\label{wxfilenamesameas}

\func{bool}{SameAs}{\param{const wxFileName\& }{filepath}, \param{wxPathFormat }{format = wxPATH\_NATIVE}}

Compares the filename using the rules of this platform


\membersection{wxFileName::SetCwd}\label{wxfilenamesetcwd}

\func{bool}{SetCwd}{\void}

\func{static bool}{SetCwd}{\param{const wxString\& }{cwd}}

change the current working directory

\membersection{wxFileName::SetExt}\label{wxfilenamesetext}

\func{void}{SetExt}{\param{const wxString\& }{ext}}


\membersection{wxFileName::SetFullName}\label{wxfilenamesetfullname}

\func{void}{SetFullName}{\param{const wxString\& }{fullname}}

full name is the file name + extension (but without the path)


\membersection{wxFileName::SetName}\label{wxfilenamesetname}

\func{void}{SetName}{\param{const wxString\& }{name}}


\membersection{wxFileName::SetTimes}\label{wxfilenamesettimes}

\func{bool}{SetTimes}{\param{const wxDateTime* }{dtAccess}, \param{const wxDateTime* }{dtMod}, \param{const wxDateTime* }{dtCreate}}

set the file creation and last access/mod times
(any of the pointers may be NULL)


\membersection{wxFileName::SetVolume}\label{wxfilenamesetvolume}

\func{void}{SetVolume}{\param{const wxString\& }{volume}}


\membersection{wxFileName::SplitPath}\label{wxfilenamesplitpath}

\func{void}{SplitPath}{\param{const wxString\& }{fullpath}, \param{wxString* }{volume}, \param{wxString* }{path}, \param{wxString* }{name}, \param{wxString* }{ext}, \param{wxPathFormat }{format = wxPATH\_NATIVE}}

\func{void}{SplitPath}{\param{const wxString\& }{fullpath}, \param{wxString* }{path}, \param{wxString* }{name}, \param{wxString* }{ext}, \param{wxPathFormat }{format = wxPATH\_NATIVE}}

split a fullpath into the volume, path, (base) name and extension
(all of the pointers can be NULL)

\membersection{wxFileName::Touch}\label{wxfilenametouch}

\func{bool}{Touch}{\void}

set the access and modification times to the current moment


\membersection{wxFileName::operator=}\label{wxfilenameoperatorassign}

\func{wxFileName\& operator}{operator=}{\param{const wxFileName\& }{filename}}

\func{wxFileName\& operator}{operator=}{\param{const wxString\& }{filename}}

Assigns the new value to this filename object.

\membersection{wxFileName::operator==}\label{wxfilenameoperatorequal}

\func{bool operator}{operator==}{\param{const wxFileName\& }{filename}}

\func{bool operator}{operator==}{\param{const wxString\& }{filename}}

Returns {\tt TRUE} if the filenames are equal for the native file format.

